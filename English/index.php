<?php session_start();error_reporting(0);ini_set('display_errors',0);if(!isset($_SESSION['user_id'])){header("Location: /index.php");exit();}$db_config=['host'=>'localhost','user'=>'gold24_user','pass'=>'random_password','name'=>'gold24_db'];try{$conn=new mysqli($db_config['host'],$db_config['user'],$db_config['pass'],$db_config['name']);$conn->set_charset("utf8mb4");$username=$_SESSION['user_name']??null;$user_id=$_SESSION['user_uid']??'all';$user_uid=$_SESSION['user_uid']??null;$lessons=range(1,12);$locked_lessons=array_fill(1,12,true);if(!empty($user_id)&&$user_id!='all'){$stmt=$conn->prepare("SELECT lesson_id,is_locked FROM lesson_locks WHERE user_id=?");$stmt->bind_param("s",$user_id);$stmt->execute();$result=$stmt->get_result();while($row=$result->fetch_assoc()){$lesson_id=$row['lesson_id'];$is_locked=$row['is_locked'];if(isset($locked_lessons[$lesson_id])){$locked_lessons[$lesson_id]=$is_locked==1;}}foreach($lessons as$lesson){if($lesson<=5){$locked_lessons[$lesson]=false;}}}else{foreach($lessons as$lesson){$locked_lessons[$lesson]=($lesson>5);}}}catch(Exception$e){error_log($e->getMessage());}?><!DOCTYPE html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta name="description" content="Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø¢Ù…ÙˆØ²Ø´ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ - ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªØ¶Ù…ÛŒÙ†ÛŒ Ø¨Ø§ Ù…ØªØ¯ Ù†ÙˆÛŒÙ†"><meta name="keywords" content="Ø¢Ù…ÙˆØ²Ø´ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ,Ø¯ÙˆØ±Ù‡ Ø²Ø¨Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ†,ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ,Ú©Ù„Ø§Ø³ Ù…Ú©Ø§Ù„Ù…Ù‡"><title>Ø¢Ù…ÙˆØ²Ø´ ØªØ¶Ù…ÛŒÙ†ÛŒ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ | English.Online24</title><style>@font-face{font-family:'IRANSans';src:url('fonts/IRANSansWeb.woff2')format('woff2')}@font-face{font-family:'Yekan';src:url('fonts/Yekan.woff2')format('woff2')}@font-face{font-family:'Vazir';src:url('fonts/Vazir.woff2')format('woff2')}body{background:#1C1C1C;font-family:'IRANSans',sans-serif;display:flex;justify-content:center;flex-direction:column;align-items:center;padding:20px;margin:0;min-height:100vh;color:#FFF}.persian-title{font-family:'IRANSans';font-weight:bold;color:#FFD700;text-shadow:2px 2px 4px rgba(0,0,0,0.3)}.badges{display:flex;gap:15px;justify-content:center;margin:20px 0}.badge{background:rgba(139,0,0,0.1);padding:10px 20px;border-radius:8px;border:1px solid rgba(139,0,0,0.2);font-family:'Yekan'}.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin:20px 0;font-family:'Vazir'}.stat-item{background:linear-gradient(145deg,#2B1B17,#1a110f);padding:15px;border-radius:10px;text-align:center}.stat-number{font-size:24px;color:#FFD700;font-weight:bold}.header{background:rgba(139,0,0,0.15);color:#fff;padding:15px;font-size:1.4rem;font-weight:bold;text-align:center;border-radius:12px;width:80%;max-width:1000px;margin-bottom:20px;box-shadow:0 4px 20px rgba(139,0,0,0.2);backdrop-filter:blur(12px);border:2px solid rgba(139,0,0,0.3)}.container{display:flex;justify-content:space-between;width:90%;max-width:1200px;align-items:flex-start}.dashboard{width:22%;background:#2B1B17;padding:15px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.2);text-align:center;transition:0.3s}.dashboard h3{color:#8B0000;margin-bottom:15px;font-size:1.2rem}.lesson-container{width:75%;display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.lesson-card{background:#2B1B17;border-radius:12px;padding:20px;box-shadow:0 6px 15px rgba(0,0,0,0.2);backdrop-filter:blur(12px);border:2px solid rgba(101,67,33,0.3);text-align:center;transition:0.3s;position:relative}.special-tag{background:linear-gradient(45deg,#FFD700,#FFA500);color:#000;padding:3px 10px;border-radius:15px;font-size:12px;font-family:'IRANSans';display:inline-block;margin:5px}.progress-bar{background:rgba(139,0,0,0.1);height:10px;border-radius:5px;margin:10px 0;position:relative;overflow:hidden}.progress-fill{background:linear-gradient(90deg,#8B0000,#FF6347);height:100%;border-radius:5px;transition:width 0.3s ease}.info-box{background:rgba(139,0,0,0.05);border-right:4px solid #8B0000;padding:15px;margin:15px 0;font-family:'Vazir';border-radius:4px}.button-container{display:flex;flex-direction:column;align-items:center;gap:10px}.button-glass{border:none;padding:12px 20px;font-size:16px;font-weight:bold;border-radius:8px;backdrop-filter:blur(8px);transition:0.3s ease-in-out;cursor:pointer;text-decoration:none;width:90%;margin-bottom:15px;min-width:120px;font-family:'IRANSans'}.button-glass.green{background:#654321;border:2px solid rgba(101,67,33,0.5);color:#FFF}.button-glass.red{background:#8B0000;border:2px solid rgba(139,0,0,0.5);color:#FFF}.button-glass.green:hover{background:#8B0000;border-color:rgba(139,0,0,0.5)}.button-glass.red:hover{background:#FF6347;border-color:rgba(255,99,71,0.5)}.footer{background:rgba(139,0,0,0.15);color:#fff;text-align:center;padding:12px;width:80%;max-width:1000px;margin-top:30px;border-radius:8px;font-size:14px;box-shadow:0 4px 20px rgba(139,0,0,0.2);backdrop-filter:blur(12px);border:2px solid rgba(139,0,0,0.3);font-family:'Vazir'}.footer a{color:#FF6347;text-decoration:none}.footer a:hover{text-decoration:underline}.locked-lesson{position:relative;opacity:0.8}.locked-lesson::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.1);border-radius:12px}@media(max-width:768px){.container{flex-direction:column;align-items:center}.dashboard{width:100%;margin-bottom:20px}.lesson-container{width:100%;grid-template-columns:1fr}.header,.footer{width:90%}.button-glass{padding:15px 20px;font-size:15px}.stats{grid-template-columns:repeat(2,1fr)}.badges{flex-direction:column}}</style></head><body><div class="header"><h1 class="persian-title">Ù¾Ù„ØªÙØ±Ù… Ø¢Ù…ÙˆØ²Ø´ Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ</h1><div class="badges"><div class="badge">Ø¯Ø§Ø±Ø§ÛŒ Ù…Ø¬ÙˆØ² Ø±Ø³Ù…ÛŒ</div><div class="badge">Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¨Ø§ Û±Û°+ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ù…Ø¹ØªØ¨Ø±</div><div class="badge">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´/Û·</div></div></div><div class="stats"><div class="stat-item"><div class="stat-number">Û±Û°Û°Û°+</div><div>Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒ ÙØ¹Ø§Ù„</div></div><div class="stat-item"><div class="stat-number">ÛµÛ°+</div><div>Ø¯ÙˆØ±Ù‡ ØªØ®ØµØµÛŒ</div></div><div class="stat-item"><div class="stat-number">Û²Û°+</div><div>Ø§Ø³ØªØ§Ø¯ Ù…Ø¬Ø±Ø¨</div></div><div class="stat-item"><div class="stat-number">Û¹Û¸Ùª</div><div>Ø±Ø¶Ø§ÛŒØª Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†</div></div></div><div class="container"><div class="dashboard"><h3>Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3><?php if(!empty($user_id)&&$user_id!='all'):?><p style="color:#fff"><strong>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong><?php echo htmlspecialchars($username??"");?></p><p style="color:#fff"><strong>Ú©Ø¯ Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong><?php echo htmlspecialchars($user_uid??"");?></p><?php endif;?><button class="button-glass green" onclick="location.href='/English/profile.php'">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</button><button class="button-glass green" onclick="window.location.href='/English/settings.php'">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button><button class="button-glass red" onclick="location.href='/English/logout.php'">Ø®Ø±ÙˆØ¬</button></div><div class="lesson-container"><?php foreach($lessons as$lesson):?><div class="lesson-card<?php echo$locked_lessons[$lesson]?' locked-lesson':'';?>"><span class="special-tag">Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø±</span><h3>Ø¯Ø±Ø³ <?php echo$lesson;?><?php echo$locked_lessons[$lesson]?' ğŸ”’ ':'';?></h3><div class="progress-bar"><div class="progress-fill" style="width:60%"></div></div><div class="info-box">Ø§ÛŒÙ† Ø¯ÙˆØ±Ù‡ Ø´Ø§Ù…Ù„ Û±Û² Ø¬Ù„Ø³Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø§ ØªØ¯Ø±ÛŒØ³ Ø§Ø³Ø§ØªÛŒØ¯ Ø¨Ø±ØªØ± Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯</div><div class="button-container"><?php if($locked_lessons[$lesson]):?><a href="/English/purchase.php?lesson=<?php echo$lesson;?>" class="button-glass red">Ø®Ø±ÛŒØ¯ Ø¯ÙˆØ±Ù‡</a><?php else:?><a href="/English/lesson<?php echo$lesson;?>.html" class="button-glass green">Ø´Ø±ÙˆØ¹ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ</a><a href="#" class="button-glass red">Ù…Ø­ØªÙˆØ§ÛŒ Ø¯ÙˆØ±Ù‡</a><?php endif;?></div></div><?php endforeach;?></div></div><div class="footer"><p>Ø´ÛŒØ±Ø§Ø²ØŒ Ø§ÛŒØ±Ø§Ù† | Ù…Ø­Ø³Ù† | Û²Û°Û²Û´</p><p>Ù…Ø§ Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯: <a href="https://instagram.com/english.online24">@english.online24</a></p></div></body></html>
